<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>QCArchive Design &mdash; QCFractal 0+untagged.1.ge9cee03 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="QCFractal API" href="api.html" />
    <link rel="prev" title="Server-side Dataset Views" href="server_view.html" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> QCFractal
          </a>
              <div class="version">
                0+untagged.1.ge9cee03
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install QCFractal</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup_quickstart.html">Setup Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup_server.html">Server Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup_compute.html">Manager Setup</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Records Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="results.html">Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="procedures.html">Procedures</a></li>
<li class="toctree-l1"><a class="reference internal" href="services.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="flow.html">Fractal Call Flowcharts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Manager Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="managers.html">Fractal Queue Managers</a></li>
<li class="toctree-l1"><a class="reference internal" href="managers_config_api.html">Queue Manager API</a></li>
<li class="toctree-l1"><a class="reference internal" href="managers_hpc.html">Configuration for High-Performance Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="managers_samples.html">Queue Manager Example YAML Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="managers_faq.html">Queue Manager Frequent Questions and Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="managers_detailed.html">Detailed Manager Information</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Server CLI and Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="server_init.html">Fractal Server Init</a></li>
<li class="toctree-l1"><a class="reference internal" href="server_config.html">Fractal Server Config</a></li>
<li class="toctree-l1"><a class="reference internal" href="server_start.html">Fractal Server Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="server_user.html">Fractal Server User</a></li>
<li class="toctree-l1"><a class="reference internal" href="server_upgrade.html">Fractal Server Upgrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="server_view.html">Server-side Dataset Views</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">QCArchive Design</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#qcportal">1) QCPortal</a></li>
<li class="toctree-l2"><a class="reference internal" href="#qcfractal">2) QCFractal</a></li>
<li class="toctree-l2"><a class="reference internal" href="#distributed-compute">3) Distributed Compute</a></li>
<li class="toctree-l2"><a class="reference internal" href="#qcengine">4) QCEngine</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rd-party-services">5) 3rd Party Services</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">QCFractal API</a></li>
<li class="toctree-l1"><a class="reference internal" href="database_design.html">Database Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev_guidelines.html">Development Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">QCFractal</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>QCArchive Design</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/qcarchive_overview.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="qcarchive-design">
<h1>QCArchive Design<a class="headerlink" href="#qcarchive-design" title="Permalink to this headline"></a></h1>
<p>The QCArchive software ecosystem consists of a series of Python modules that
can either be used together or are useful standalone pieces to the
computational molecular sciences community. This ecosystem is constructed to
be used at single-user, small group, and multi-PI levels while retaining
the ability to scale up to the needs of an entire community of scientist.</p>
<p>In each case, it is expected only a small number of users are required to
understand the entire software stack and the primary interaction with the
QCArchive ecosystem will be through the user front-end (QCPortal). After the
persistence server instance (QCFractal) is instantiated with a distributed
workflow system and compute the server should be able to maintain
itself without user intervention. A diagram of how the ecosystem works in
concert can be seen below:</p>
<a class="reference internal image-reference" href="_images/boxology_overview.jpg"><img alt="QCArchive project structure" class="align-center" src="_images/boxology_overview.jpg" style="width: 800px;" /></a>
<section id="qcportal">
<h2>1) QCPortal<a class="headerlink" href="#qcportal" title="Permalink to this headline"></a></h2>
<a class="reference external image-reference" href="https://github.com/MolSSI/QCPortal"><img alt="https://img.shields.io/github/stars/MolSSI/QCPortal.svg?style=social&amp;label=Stars" class="align-center" src="https://img.shields.io/github/stars/MolSSI/QCPortal.svg?style=social&amp;label=Stars" style="width: 100px;" /></a>
<ul class="simple">
<li><p>Hardware: Laptop</p></li>
<li><p>Actor: User</p></li>
<li><p>Primary Developer: MolSSI</p></li>
</ul>
<p>QCPortal provides a Python-based user front-end experience for users who are
interested in exploring data and executing new tasks. Exploration of computed
data is augmented by the ability to generate graphs quickly and other
representations to view the data in Jupyter notebooks and high-level
abstractions are used to view and manipulate many individual tasks
simultaneously. Querying of data and submission of new tasks occurs over the
QCFractal REST API.</p>
</section>
<section id="qcfractal">
<h2>2) QCFractal<a class="headerlink" href="#qcfractal" title="Permalink to this headline"></a></h2>
<a class="reference external image-reference" href="https://github.com/MolSSI/QCFractal"><img alt="https://img.shields.io/github/stars/MolSSI/QCFractal.svg?style=social&amp;label=Stars" class="align-center" src="https://img.shields.io/github/stars/MolSSI/QCFractal.svg?style=social&amp;label=Stars" style="width: 100px;" /></a>
<ul class="simple">
<li><p>Hardware: Persistent Server</p></li>
<li><p>Actor: Power User</p></li>
<li><p>Primary Developer: MolSSI</p></li>
</ul>
<p>QCFractal is the primary persistent server that QCPortal communicates with and has several main duties:</p>
<ul class="simple">
<li><p>Maintain a database of all completed quantum chemistry results along with metadata that forms higher-level collections of results.</p></li>
<li><p>Maintain a compute queue of all requested and completed tasks. Where each task is a single quantum chemistry result.</p></li>
<li><p>Submit new tasks to distributed workflow engines and insert complete results into the database.</p></li>
<li><p>Maintain high level compute workflows via the “Services” feature.</p></li>
</ul>
</section>
<section id="distributed-compute">
<h2>3) Distributed Compute<a class="headerlink" href="#distributed-compute" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Hardware: Persistent Server/Supercomputer</p></li>
<li><p>Actor: Power User (can be separate from the Fractal Power Users)</p></li>
<li><p>Primary Developer: Scientific and HPC Communities</p></li>
</ul>
<p>The QCArchive project relies on a number of distributed compute workflow
engines to enable a large variety of compute workloads. QCFractal will
interact with each of these projects by submitting a series of tasks that do
not have data or execution order dependence. The communication interfaces vary
from Python-based API calls to REST API interfaces depending on the
implementation details of the individual tools.</p>
<p>Current distributed compute backends are:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://dask.pydata.org">Dask Distributed</a> - Multi-node task graph scheduler built in Python.</p></li>
<li><p><a class="reference external" href="http://parsl-project.org">Parsl</a> - High-performance workflows.</p></li>
<li><p><a class="reference external" href="https://materialsproject.github.io/fireworks/">Fireworks</a> - Multi-site task scheduler built in Python with a central MongoDB server.</p></li>
</ul>
<p>Pending backend implementations include:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://radical-cybertools.github.io">RADICAL Cybertools</a> - Distributed task scheduler built for DOE and NSF compute resources.</p></li>
<li><p><a class="reference external" href="http://boinc.berkeley.edu">BOINC</a> - High throughput volunteer computing task manager.</p></li>
<li><p><a class="reference external" href="https://balsam.alcf.anl.gov">Balsam</a> - Task manager for a single compute resource (supercomputer) with tasks pulled from a central server.</p></li>
</ul>
<p>The compute workers of each of these tools is executed in different ways.
However, in each case the compute workers will distribute <a class="reference external" href="https://github.com/MolSSI/QC_JSON_Schema">QCSchema</a> inputs,
call QCEngine, and receive a <a class="reference external" href="https://github.com/MolSSI/QC_JSON_Schema">QCSchema</a> output.</p>
</section>
<section id="qcengine">
<h2>4) QCEngine<a class="headerlink" href="#qcengine" title="Permalink to this headline"></a></h2>
<a class="reference external image-reference" href="https://github.com/MolSSI/QCEngine"><img alt="https://img.shields.io/github/stars/MolSSI/QCEngine.svg?style=social&amp;label=Stars" class="align-center" src="https://img.shields.io/github/stars/MolSSI/QCEngine.svg?style=social&amp;label=Stars" style="width: 100px;" /></a>
<ul class="simple">
<li><p>Hardware: Local Cluster, Supercomputer, or Cloud Compute</p></li>
<li><p>Actor: Power User</p></li>
</ul>
<p>QCEngine is a stateless, lightweight wrapper around Quantum Chemistry programs
so that these programs consistently accept and emit <a class="reference external" href="https://github.com/MolSSI/QC_JSON_Schema">QCSchema</a>. Depending on
the underlying program QCEngine provides this uniform interface by either:</p>
<ol class="arabic simple">
<li><p>Calling the <a class="reference external" href="https://github.com/MolSSI/QC_JSON_Schema">QCSchema</a> IO functions that individual program have implemented.</p></li>
<li><p>Calling the Python-API of the program and modifying the input/output according to the <a class="reference external" href="https://github.com/MolSSI/QC_JSON_Schema">QCSchema</a>.</p></li>
<li><p>Writing a ASCII input file based on the input <a class="reference external" href="https://github.com/MolSSI/QC_JSON_Schema">QCSchema</a>, running the program, and parsing an ASCII output file into the <a class="reference external" href="https://github.com/MolSSI/QC_JSON_Schema">QCSchema</a>.</p></li>
</ol>
<p>QCEngine also keeps track of the provenance of each task. This includes:</p>
<ul class="simple">
<li><p>A description of the hardware used (CPU, GPU, memory, etc).</p></li>
<li><p>The total compute time and resources allocated to the run.</p></li>
<li><p>The function and version of the program called.</p></li>
</ul>
</section>
<section id="rd-party-services">
<h2>5) 3rd Party Services<a class="headerlink" href="#rd-party-services" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Hardware: Laptop</p></li>
<li><p>Actor: User/Power User</p></li>
<li><p>Primary Developer: Computational Molecular Sciences Community</p></li>
</ul>
<p>The QCFractal API is expected to have additional services attached by 3rd
parties. These services can range from cross-reference data services to user
website that visualize and interact with the data in a specific way,</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="server_view.html" class="btn btn-neutral float-left" title="Server-side Dataset Views" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="api.html" class="btn btn-neutral float-right" title="QCFractal API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018-2021, The Molecular Sciences Software Institute.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>